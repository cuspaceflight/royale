EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A2 23386 16535
encoding utf-8
Sheet 1 34
Title "PROJECT ROYALE"
Date "2021-10-23"
Rev "1.0"
Comp "Cambridge University Spaceflight"
Comment1 "Drawn By Henry Franks"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L royale:STM32F405RGT6 IC?
U 1 1 6174B00A
P 2650 4100
F 0 "IC?" H 2650 6150 50  0000 C CNN
F 1 "STM32F405RGT6" H 2650 6050 50  0000 C CNN
F 2 "cusf:LQFP-64" H 2250 2100 50  0001 L CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00037051.pdf" H 2250 2000 50  0001 L CNN
F 4 "2064363" H 2250 1900 50  0001 L CNN "Farnell"
	1    2650 4100
	1    0    0    -1  
$EndComp
$Comp
L royale:C C?
U 1 1 61750A96
P 1900 2300
F 0 "C?" H 1550 2300 50  0000 R CNN
F 1 "100n" H 1800 2300 50  0000 R CNN
F 2 "" H 1900 2300 50  0001 C CNN
F 3 "" H 1900 2300 50  0001 C CNN
	1    1900 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 2300 1850 2300
Wire Wire Line
	1850 2300 1850 2400
$Comp
L royale:C C?
U 1 1 617513C7
P 1900 2400
F 0 "C?" H 1550 2400 50  0000 R CNN
F 1 "100n" H 1800 2400 50  0000 R CNN
F 2 "" H 1900 2400 50  0001 C CNN
F 3 "" H 1900 2400 50  0001 C CNN
	1    1900 2400
	1    0    0    -1  
$EndComp
$Comp
L royale:C C?
U 1 1 617515A3
P 1900 2500
F 0 "C?" H 1550 2500 50  0000 R CNN
F 1 "100n" H 1800 2500 50  0000 R CNN
F 2 "" H 1900 2500 50  0001 C CNN
F 3 "" H 1900 2500 50  0001 C CNN
	1    1900 2500
	1    0    0    -1  
$EndComp
$Comp
L royale:C C?
U 1 1 61751789
P 1900 2600
F 0 "C?" H 1550 2600 50  0000 R CNN
F 1 "100n" H 1800 2600 50  0000 R CNN
F 2 "" H 1900 2600 50  0001 C CNN
F 3 "" H 1900 2600 50  0001 C CNN
	1    1900 2600
	1    0    0    -1  
$EndComp
$Comp
L royale:C C?
U 1 1 617518DE
P 1900 2700
F 0 "C?" H 1550 2700 50  0000 R CNN
F 1 "100n" H 1800 2700 50  0000 R CNN
F 2 "" H 1900 2700 50  0001 C CNN
F 3 "" H 1900 2700 50  0001 C CNN
	1    1900 2700
	1    0    0    -1  
$EndComp
$Comp
L royale:C C?
U 1 1 61751AC4
P 1900 2800
F 0 "C?" H 1550 2800 50  0000 R CNN
F 1 "1u" H 1800 2800 50  0000 R CNN
F 2 "" H 1900 2800 50  0001 C CNN
F 3 "" H 1900 2800 50  0001 C CNN
	1    1900 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2000 2300 2050 2300
Wire Wire Line
	2000 2500 2050 2500
Wire Wire Line
	2000 2600 2050 2600
Wire Wire Line
	2000 2700 2050 2700
$Comp
L royale:C C?
U 1 1 61752860
P 1900 2200
F 0 "C?" H 1550 2200 50  0000 R CNN
F 1 "4u7" H 1800 2200 50  0000 R CNN
F 2 "" H 1900 2200 50  0001 C CNN
F 3 "" H 1900 2200 50  0001 C CNN
	1    1900 2200
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 2200 1850 2200
Wire Wire Line
	1850 2200 1850 2300
Connection ~ 1850 2300
Wire Wire Line
	1900 2400 1850 2400
Connection ~ 1850 2400
Wire Wire Line
	1850 2400 1850 2500
Wire Wire Line
	1900 2500 1850 2500
Connection ~ 1850 2500
Wire Wire Line
	1850 2500 1850 2600
Wire Wire Line
	1900 2600 1850 2600
Connection ~ 1850 2600
Wire Wire Line
	1850 2600 1850 2700
Wire Wire Line
	1900 2700 1850 2700
Connection ~ 1850 2700
Wire Wire Line
	1850 2700 1850 2800
Wire Wire Line
	1900 2800 1850 2800
Wire Wire Line
	2000 2200 2050 2200
Wire Wire Line
	2050 2200 2050 2300
Connection ~ 2050 2300
Wire Wire Line
	2050 2300 2150 2300
Wire Wire Line
	2000 2800 2050 2800
Wire Wire Line
	2000 2400 2050 2400
Wire Wire Line
	2050 2300 2050 2400
Connection ~ 2050 2400
Wire Wire Line
	2050 2400 2150 2400
Wire Wire Line
	2050 2400 2050 2500
Connection ~ 2050 2500
Wire Wire Line
	2050 2500 2150 2500
Wire Wire Line
	2050 2500 2050 2600
Connection ~ 2050 2600
Wire Wire Line
	2050 2600 2150 2600
Wire Wire Line
	2050 2600 2050 2700
Connection ~ 2050 2700
Wire Wire Line
	2050 2700 2150 2700
Wire Wire Line
	2050 2700 2050 2800
Connection ~ 2050 2800
Wire Wire Line
	2050 2800 2150 2800
Wire Wire Line
	2050 2200 2050 2100
Connection ~ 2050 2200
$Comp
L royale:3v3 #PWR?
U 1 1 6175543F
P 2050 2100
F 0 "#PWR?" H 2050 2210 50  0001 L CNN
F 1 "3v3" H 2050 2200 50  0000 C CNN
F 2 "" H 2050 2100 50  0001 C CNN
F 3 "" H 2050 2100 50  0001 C CNN
	1    2050 2100
	1    0    0    -1  
$EndComp
Text Label 2000 3700 0    50   ~ 0
~RST
Wire Wire Line
	2000 3700 2150 3700
$Comp
L royale:SMD_XTAL Y?
U 1 1 61759150
P 1750 4000
F 0 "Y?" V 1800 4050 50  0000 L CNN
F 1 "SMD_XTAL" V 1800 4100 50  0001 L CNN
F 2 "cusf:XTAL-20x16" H 1800 3780 50  0001 C CNN
F 3 "" H 1750 4000 50  0001 C CNN
	1    1750 4000
	0    1    1    0   
$EndComp
$Comp
L royale:C C?
U 1 1 6175AC5D
P 1600 3900
F 0 "C?" H 1650 4050 50  0000 C CNN
F 1 "10p" H 1650 3950 50  0000 C BNN
F 2 "" H 1600 3900 50  0001 C CNN
F 3 "" H 1600 3900 50  0001 C CNN
	1    1600 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 4000 1550 4000
Wire Wire Line
	1650 4100 1550 4100
Wire Wire Line
	1600 3900 1550 3900
Wire Wire Line
	1550 3900 1550 4000
Connection ~ 1550 4000
Connection ~ 1550 4100
Wire Wire Line
	1700 3900 1750 3900
Wire Wire Line
	1750 3900 1750 4000
Wire Wire Line
	1600 4200 1550 4200
Wire Wire Line
	1550 4100 1550 4200
Wire Wire Line
	1700 4200 1750 4200
Wire Wire Line
	1750 4200 1750 4100
Wire Wire Line
	1750 3900 1850 3900
Wire Wire Line
	1850 3900 1850 4000
Wire Wire Line
	1850 4000 2150 4000
Connection ~ 1750 3900
Wire Wire Line
	1850 4100 1850 4200
Wire Wire Line
	1850 4200 1750 4200
Connection ~ 1750 4200
$Comp
L royale:C C?
U 1 1 61762750
P 1600 4200
F 0 "C?" H 1650 4250 50  0000 C BNN
F 1 "10p" H 1650 4350 50  0000 C CNN
F 2 "" H 1600 4200 50  0001 C CNN
F 3 "" H 1600 4200 50  0001 C CNN
	1    1600 4200
	1    0    0    1   
$EndComp
Wire Wire Line
	1550 4200 1450 4200
$Comp
L royale:GND #PWR?
U 1 1 617640A3
P 1450 4200
F 0 "#PWR?" H 1320 4240 50  0001 L CNN
F 1 "GND" V 1450 4050 50  0000 C CNN
F 2 "" H 1450 4200 50  0001 C CNN
F 3 "" H 1450 4200 50  0001 C CNN
	1    1450 4200
	0    1    1    0   
$EndComp
Connection ~ 1550 4200
Wire Wire Line
	1550 4000 1550 4100
Connection ~ 1850 2800
Wire Wire Line
	1850 3200 2150 3200
Wire Wire Line
	1850 2800 1850 3000
Wire Wire Line
	2150 3000 1850 3000
Connection ~ 1850 3000
Wire Wire Line
	1850 3000 1850 3100
Wire Wire Line
	2150 3100 1850 3100
Connection ~ 1850 3100
Wire Wire Line
	1850 3100 1850 3200
$Comp
L royale:GND #PWR?
U 1 1 6176E7D4
P 2100 3800
F 0 "#PWR?" H 1970 3840 50  0001 L CNN
F 1 "GND" V 2100 3650 50  0000 C CNN
F 2 "" H 2100 3800 50  0001 C CNN
F 3 "" H 2100 3800 50  0001 C CNN
	1    2100 3800
	0    1    1    0   
$EndComp
Wire Wire Line
	2100 3800 2150 3800
$Comp
L royale:C C?
U 1 1 61777029
P 1900 3400
F 0 "C?" H 1550 3400 50  0000 R CNN
F 1 "2u2" H 1800 3400 50  0000 R CNN
F 2 "" H 1900 3400 50  0001 C CNN
F 3 "" H 1900 3400 50  0001 C CNN
	1    1900 3400
	1    0    0    -1  
$EndComp
$Comp
L royale:C C?
U 1 1 617774CA
P 1900 3500
F 0 "C?" H 1550 3500 50  0000 R CNN
F 1 "2u2" H 1800 3500 50  0000 R CNN
F 2 "" H 1900 3500 50  0001 C CNN
F 3 "" H 1900 3500 50  0001 C CNN
	1    1900 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 3200 1850 3400
Wire Wire Line
	1850 3500 1900 3500
Connection ~ 1850 3200
Wire Wire Line
	1900 3400 1850 3400
Connection ~ 1850 3400
Wire Wire Line
	1850 3400 1850 3500
Wire Wire Line
	2000 3400 2150 3400
Wire Wire Line
	2150 3500 2000 3500
$Comp
L royale:GND #PWR?
U 1 1 6177E26F
P 1850 3550
F 0 "#PWR?" H 1720 3590 50  0001 L CNN
F 1 "GND" H 1850 3450 50  0000 C CNN
F 2 "" H 1850 3550 50  0001 C CNN
F 3 "" H 1850 3550 50  0001 C CNN
	1    1850 3550
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 3550 1850 3500
Connection ~ 1850 3500
$Comp
L royale:R R?
U 1 1 61781EE4
P 1950 4100
F 0 "R?" H 2000 4050 50  0000 C TNN
F 1 "100" H 2000 3950 50  0000 C CNN
F 2 "" H 1950 4100 50  0001 C CNN
F 3 "" H 1950 4100 50  0001 C CNN
	1    1950 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 4100 1850 4100
Wire Wire Line
	2050 4100 2150 4100
Wire Wire Line
	4450 5150 3950 5150
Text Label 3950 5150 0    50   ~ 0
EMATCH
$Comp
L royale:Conn_01x02 J?
U 1 1 61CEAAE3
P 5700 4850
F 0 "J?" H 5650 5050 50  0000 C CNN
F 1 "E-MATCH" H 5650 4950 50  0000 C BNN
F 2 "" H 5700 4850 50  0001 C CNN
F 3 "" H 5700 4850 50  0001 C CNN
	1    5700 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 4950 5400 4950
Wire Wire Line
	5400 4950 5400 5150
$Comp
L royale:GND #PWR?
U 1 1 61CEAAEC
P 5400 5150
F 0 "#PWR?" H 5270 5190 50  0001 L CNN
F 1 "GND" H 5400 5050 50  0000 C CNN
F 2 "" H 5400 5150 50  0001 C CNN
F 3 "" H 5400 5150 50  0001 C CNN
	1    5400 5150
	1    0    0    -1  
$EndComp
$Sheet
S 7000 2850 650  300 
U 61ACC4FD
F0 "Valve 1" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 7000 2950 50 
F3 "EN" I L 7000 3050 50 
$EndSheet
Wire Wire Line
	7000 2950 6650 2950
Wire Wire Line
	7000 3050 6650 3050
Text Label 6650 3050 0    50   ~ 0
EN_01
Text Label 6650 2950 0    50   ~ 0
SW_01
$Sheet
S 8150 2850 650  300 
U 61C72EE8
F0 "Valve 2" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 8150 2950 50 
F3 "EN" I L 8150 3050 50 
$EndSheet
Wire Wire Line
	8150 2950 7800 2950
Wire Wire Line
	8150 3050 7800 3050
Text Label 7800 3050 0    50   ~ 0
EN_02
Text Label 7800 2950 0    50   ~ 0
SW_02
$Sheet
S 7000 3400 650  300 
U 61CD6F33
F0 "Valve 3" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 7000 3500 50 
F3 "EN" I L 7000 3600 50 
$EndSheet
Wire Wire Line
	7000 3500 6650 3500
Wire Wire Line
	7000 3600 6650 3600
Text Label 6650 3600 0    50   ~ 0
EN_03
Text Label 6650 3500 0    50   ~ 0
SW_03
$Sheet
S 8150 3400 650  300 
U 61CD6F3B
F0 "Valve 4" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 8150 3500 50 
F3 "EN" I L 8150 3600 50 
$EndSheet
Wire Wire Line
	8150 3500 7800 3500
Wire Wire Line
	8150 3600 7800 3600
Text Label 7800 3600 0    50   ~ 0
EN_04
Text Label 7800 3500 0    50   ~ 0
SW_04
$Sheet
S 7000 3950 650  300 
U 61D14AEF
F0 "Valve 5" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 7000 4050 50 
F3 "EN" I L 7000 4150 50 
$EndSheet
Wire Wire Line
	7000 4050 6650 4050
Wire Wire Line
	7000 4150 6650 4150
Text Label 6650 4150 0    50   ~ 0
EN_05
Text Label 6650 4050 0    50   ~ 0
SW_05
$Sheet
S 8150 3950 650  300 
U 61D14AF7
F0 "Valve 6" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 8150 4050 50 
F3 "EN" I L 8150 4150 50 
$EndSheet
Wire Wire Line
	8150 4050 7800 4050
Wire Wire Line
	8150 4150 7800 4150
Text Label 7800 4150 0    50   ~ 0
EN_06
Text Label 7800 4050 0    50   ~ 0
SW_06
$Sheet
S 7000 4500 650  300 
U 61D14AFF
F0 "Valve 7" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 7000 4600 50 
F3 "EN" I L 7000 4700 50 
$EndSheet
Wire Wire Line
	7000 4600 6650 4600
Wire Wire Line
	7000 4700 6650 4700
Text Label 6650 4700 0    50   ~ 0
EN_07
Text Label 6650 4600 0    50   ~ 0
SW_07
$Sheet
S 8150 4500 650  300 
U 61D14B07
F0 "Valve 8" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 8150 4600 50 
F3 "EN" I L 8150 4700 50 
$EndSheet
Wire Wire Line
	8150 4600 7800 4600
Wire Wire Line
	8150 4700 7800 4700
Text Label 7800 4700 0    50   ~ 0
EN_08
Text Label 7800 4600 0    50   ~ 0
SW_08
$Sheet
S 7000 5050 650  300 
U 61D4BB86
F0 "Valve 9" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 7000 5150 50 
F3 "EN" I L 7000 5250 50 
$EndSheet
Wire Wire Line
	7000 5150 6650 5150
Wire Wire Line
	7000 5250 6650 5250
Text Label 6650 5250 0    50   ~ 0
EN_09
Text Label 6650 5150 0    50   ~ 0
SW_09
$Sheet
S 8150 5050 650  300 
U 61D4BB8E
F0 "Valve 10" 50
F1 "fire_ctrl.sch" 50
F2 "V_SEL" I L 8150 5150 50 
F3 "EN" I L 8150 5250 50 
$EndSheet
Wire Wire Line
	8150 5150 7800 5150
Wire Wire Line
	8150 5250 7800 5250
Text Label 7800 5250 0    50   ~ 0
EN_10
Text Label 7800 5150 0    50   ~ 0
SW_10
Wire Wire Line
	5350 3850 5150 3850
Text GLabel 5350 3850 2    50   Input ~ 0
24v_SW
Text GLabel 5350 3050 2    50   Input ~ 0
12v_SW
Wire Wire Line
	4450 3050 4300 3050
$Comp
L royale:12v #PWR?
U 1 1 61DE4961
P 4300 3050
F 0 "#PWR?" H 4300 3160 50  0001 L CNN
F 1 "12v" V 4300 3200 50  0000 C CNN
F 2 "" H 4300 3050 50  0001 C CNN
F 3 "" H 4300 3050 50  0001 C CNN
	1    4300 3050
	0    -1   -1   0   
$EndComp
Text Label 3650 3350 0    50   ~ 0
ARM
Wire Wire Line
	3650 3350 3950 3350
Wire Wire Line
	4450 4150 3950 4150
Wire Wire Line
	3950 4150 3950 3350
Connection ~ 3950 3350
Wire Wire Line
	3950 3350 4450 3350
Wire Wire Line
	4450 3850 4300 3850
$Comp
L royale:24v #PWR?
U 1 1 61E00445
P 4300 3850
F 0 "#PWR?" H 4300 3960 50  0001 L CNN
F 1 "24v" V 4300 4000 50  0000 C CNN
F 2 "" H 4300 3850 50  0001 C CNN
F 3 "" H 4300 3850 50  0001 C CNN
	1    4300 3850
	0    -1   -1   0   
$EndComp
$Sheet
S 4450 4700 700  550 
U 61E4704E
F0 "E-Match Igniter" 50
F1 "spst.sch" 50
F2 "EN" I L 4450 5150 50 
F3 "V_IN" I L 4450 4850 50 
F4 "V_OUT" O R 5150 4850 50 
$EndSheet
Wire Wire Line
	5150 4850 5500 4850
Text GLabel 4250 4850 0    50   Input ~ 0
24v_SW
Wire Wire Line
	4250 4850 4450 4850
$Sheet
S 4450 2900 700  550 
U 61E768EF
F0 "12v Arm" 50
F1 "spst.sch" 50
F2 "EN" I L 4450 3350 50 
F3 "V_IN" I L 4450 3050 50 
F4 "V_OUT" O R 5150 3050 50 
$EndSheet
Wire Wire Line
	5350 3050 5150 3050
$Sheet
S 4450 3700 700  550 
U 61E87E9F
F0 "24v Arm" 50
F1 "spst.sch" 50
F2 "EN" I L 4450 4150 50 
F3 "V_IN" I L 4450 3850 50 
F4 "V_OUT" O R 5150 3850 50 
$EndSheet
$EndSCHEMATC
